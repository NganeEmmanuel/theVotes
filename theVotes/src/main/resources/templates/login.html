<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
	<head>
		<title>TheVotes login page</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
		<!-- TODO add bootstrapp link -->
	</head>
	
	<script type="text/javascript">
		function register(){
			window.location.href = "/register";
		}
	</script>
	
	<body>
		<div class="container" style="margin-top: 1.5em;">
			<div class="card">
				<div class="card-header text-center"><h2>Please Login.</h2></div>
				<div class="card-body">
					<form action="" method="post">
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
				        <!-- use param.error assuming FormLoginConfigurer#failureUrl contains the query parameter error -->
				        <div th:if="${param.error != null}" class="alert alert-danger" role="alert">
				                Failed to login.
				            <div th:if="${SPRING_SECURITY_LAST_EXCEPTION != null}">
				              Reason: <span th:text="${SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
				            </div>
				        </div>
				        <!-- the configured LogoutConfigurer#logoutSuccessUrl is /login?logout and contains the query param logout -->
				        <div th:if="${param.logout != null}" class="alert alert-warning" role="alert">
				            <div>
				                You have been logged out.
				            </div>
				        </div>
				        <div class="row mb-3">
					        <label for="username" class="col-xl-2 col-sm-3 col-12 col-form-label">Username:</label>
					        <div class="col-xl-10 col-sm-9 col-12">
					        	<input type="text" id="username" name="username" class="form-control"/>
				        	</div>
				        </div>
				        <div class="row">
					        <label for="password" class="col-xl-2 col-sm-3 col-12 col-form-label">Password:</label>
					        <div class="col-xl-10 col-sm-9 col-12">
					        	<input type="password" id="password" name="password" class="form-control"/>
					        </div>
				        </p>
				        
				        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
			            	<button type="submit" class="btn btn-primary btn-lg me-md-2t">Log in</button>
							<button type="button" onclick="register()" class="btn btn-outline-dark btn-lg">Create Account</button>
				        </div>
					 </form>
				</div>
			</div>
		 </div>
	</body>
</html>